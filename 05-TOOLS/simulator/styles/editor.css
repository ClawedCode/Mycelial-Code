/* Code Editor Styles */

.CodeMirror {
  height: 100% !important;
  font-family: 'Fira Code', 'Consolas', 'Monaco', monospace !important;
  font-size: 13px !important;
  line-height: 1.5 !important;
  background-color: #f5f5f5 !important;
  color: #2c3e50 !important;
}

.CodeMirror-gutters {
  background-color: #ecf0f1 !important;
  border-right: 1px solid #bdc3c7 !important;
}

.CodeMirror-linenumber {
  color: #95a5a6 !important;
  padding: 0 8px !important;
}

.CodeMirror-cursor {
  border-left: 1px solid #2c3e50 !important;
}

/* Syntax highlighting */
.cm-keyword {
  color: #8e44ad;
  font-weight: 600;
}

.cm-atom {
  color: #e74c3c;
}

.cm-number {
  color: #27ae60;
}

.cm-def {
  color: #2980b9;
  font-weight: 600;
}

.cm-variable {
  color: #2c3e50;
}

.cm-string {
  color: #27ae60;
}

.cm-comment {
  color: #95a5a6;
  font-style: italic;
}

.cm-error {
  background-color: #ffe6e6;
  color: #e74c3c;
}

.cm-operator {
  color: #e67e22;
}

.cm-meta {
  color: #34495e;
}

/* Line highlighting for errors */
.cm-error-line {
  background-color: #ffe6e6 !important;
}

.cm-error-underline {
  border-bottom: 2px wavy #e74c3c;
}

/* Search/replace */
.CodeMirror-search-match {
  background-color: #fff45f;
  color: #2c3e50;
}

.CodeMirror-search-match-selected {
  background-color: #ffd700;
  color: #2c3e50;
}

/* Selection */
.CodeMirror-selected {
  background-color: #d4d4ff !important;
}

.CodeMirror-focused .CodeMirror-selected {
  background-color: #a8ccff !important;
}

/* Active line */
.CodeMirror-activeline-background {
  background-color: #f0f0f0 !important;
}

/* Bracket matching */
.CodeMirror-matchingbracket {
  outline: 1px solid #ccc;
  color: inherit !important;
  background-color: #fafafa !important;
}

.CodeMirror-matchingbracket-fail {
  color: #e74c3c !important;
  background-color: #ffe6e6 !important;
}

/* Scrollbar */
.CodeMirror-scrollbar-filler {
  background-color: #ecf0f1;
}

/* Mycelial language syntax rules */
.mycelial-keyword { color: #8e44ad; font-weight: 600; }
.mycelial-number { color: #27ae60; }
.mycelial-string { color: #27ae60; }
.mycelial-comment { color: #95a5a6; font-style: italic; }
.mycelial-variable { color: #2980b9; }
.mycelial-type { color: #e67e22; font-weight: 500; }
.mycelial-frequency { color: #c0392b; font-weight: 500; }
.mycelial-operator { color: #34495e; }

/* Dark mode */
@media (prefers-color-scheme: dark) {
  .CodeMirror {
    background-color: #1e1e1e !important;
    color: #d4d4d4 !important;
  }

  .CodeMirror-gutters {
    background-color: #1e1e1e !important;
    border-right-color: #3e3e42 !important;
  }

  .CodeMirror-linenumber {
    color: #858585 !important;
  }

  .CodeMirror-cursor {
    border-left-color: #d4d4d4 !important;
  }

  .CodeMirror-activeline-background {
    background-color: #2d2d2d !important;
  }

  .cm-keyword { color: #569cd6; }
  .cm-number { color: #b5cea8; }
  .cm-string { color: #ce9178; }
  .cm-comment { color: #6a9955; }
  .cm-variable { color: #9cdcfe; }
  .cm-operator { color: #d4d4d4; }
}
